"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[259],{1259:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var a=n(9439),r={form:"ContactForm_form__dhl+T",formName:"ContactForm_formName__9bHzl",formNumber:"ContactForm_formNumber__UMrmC",formBtn:"ContactForm_formBtn__qZGY3"},s=n(2791),c=n(1973),i=n(184),o=function(){var e=(0,c.Jx)().data,t=(0,c.Tn)(),n=(0,a.Z)(t,1)[0],o=(0,s.useState)(""),l=(0,a.Z)(o,2),m=l[0],u=l[1],d=(0,s.useState)(""),f=(0,a.Z)(d,2),p=f[0],b=f[1],h=function(e){var t=e.currentTarget,n=t.name,a=t.value;switch(n){case"name":u(a);break;case"number":b(a);break;default:return}};return(0,i.jsxs)("form",{className:r.form,onSubmit:function(t){t.preventDefault();var a=e.find((function(e){return e.name===m}));a?alert(a.name+" is already in contacts."):(n({name:m,number:p}),t.target.reset())},children:[(0,i.jsxs)("label",{className:r.formLabel,children:["Name",(0,i.jsx)("input",{className:r.formName,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:h,required:!0})]}),(0,i.jsxs)("label",{className:r.formLabel,children:["Number",(0,i.jsx)("input",{className:r.formNumber,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:h,required:!0})]}),(0,i.jsx)("button",{className:r.formBtn,type:"submit",children:" Add contact"})]})},l=n(5048),m={filterName:"Filter_filterName__Y2kKA"},u=function(e){return e.filters},d=n(4808),f=function(){var e=(0,l.v9)(u),t=(0,l.I0)();return(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:m.filterLabel,children:"Find contacts by name"}),(0,i.jsx)("input",{className:m.filterName,type:"text",name:"filter",value:e,onChange:function(e){return t((0,d.p)(e.target.value))}})]})},p={contactListItemBtn:"ContactList_contactListItemBtn__TXYnT",contactList:"ContactList_contactList__UFVCg",upd:"ContactList_upd__n7RCM"},b=n(643),h=n(5861),x=n(7757),N=n.n(x),j=function(e){var t=e.contact,n=e.isBlock,r=e.setIsBlock,o=e.contacts,l=t.id,m=(0,s.useState)(!1),u=(0,a.Z)(m,2),d=u[0],f=u[1],b=(0,s.useState)(t.name),x=(0,a.Z)(b,2),j=x[0],v=x[1],C=(0,s.useState)(t.number),_=(0,a.Z)(C,2),g=_[0],k=_[1],y=(0,c.Nt)(),L=(0,a.Z)(y,1)[0],Z=(0,c.wv)(),w=(0,a.Z)(Z,1)[0],B=function(e){var t=e.currentTarget,n=t.name,a=t.value;switch(n){case"name":v(a);break;case"number":k(a);break;default:return}},F=function(){var e=(0,h.Z)(N().mark((function e(n){var a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.dir(n.target.elements.name.value),a=o.find((function(e){return e.name===j})),!a||n.target.elements.name.value===t.name){e.next=6;break}return alert(a.name+" is already in contacts."),e.abrupt("return");case 6:return e.next=8,w({id:l,name:j,number:g});case 8:f(!1),r(!1),n.target.reset();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,i.jsx)(i.Fragment,{children:d?(0,i.jsxs)("form",{className:p.form,style:{border:"10px solid teal",width:"387px",padding:"20px 20px 20px 20px",marginBottom:"20px",marginTop:"20px"},onSubmit:F,children:["Name ",(0,i.jsx)("input",{className:p.upd,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",onChange:B,defaultValue:t.name}),"Number",(0,i.jsx)("input",{className:p.upd,type:"text",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",onChange:B,defaultValue:t.number}),(0,i.jsx)("button",{type:"submit",className:p.contactListItemBtn,children:"Update"}),(0,i.jsx)("button",{type:"button",className:p.contactListItemBtn,onClick:function(){r(!1),f(!1)},children:"Cancel"})]}):(0,i.jsxs)(i.Fragment,{children:[!n&&(0,i.jsx)("button",{disabled:n,type:"button",className:p.contactListItemBtn,onClick:function(){f(!0),r(!0)},children:"Update"}),!n&&(0,i.jsx)("button",{disabled:n,type:"button",className:p.contactListItemBtn,onClick:function(){L(t.id)},children:"Delete"}),t.name," : ",t.number]})})},v=function(){var e=(0,s.useState)(!1),t=(0,a.Z)(e,2),n=t[0],r=t[1],o=(0,l.v9)(u),m=(0,c.Jx)(),d=m.data,f=void 0===d?[]:d,h=m.isFetching,x=function(){var e=o.toLowerCase();return f.filter((function(t){return t.name.toLowerCase().includes(e)}))};return(0,i.jsx)("div",{className:p.wraperContactList,children:(0,i.jsx)("ul",{className:p.contactList,children:h?(0,i.jsx)(b.iT,{height:"40",width:"40",radius:"9",color:"#000000",ariaLabel:"three-dots-loading",visible:!0}):x().map((function(e,t){return(0,i.jsx)("li",{className:p.contactListItem,children:(0,i.jsx)(j,{contact:e,isBlock:n,setIsBlock:r,contacts:x()})},t)}))})})};function C(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontSize:20,color:"#010101"},children:[(0,i.jsx)("h1",{children:"Phonebook"}),(0,i.jsx)(o,{}),(0,i.jsx)("h1",{children:"Contacts"}),(0,i.jsx)(f,{}),(0,i.jsx)(v,{})]})})}}}]);
//# sourceMappingURL=259.eb796fb1.chunk.js.map